webpackJsonp([2,0],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(67);var i=n(1),s=a(i),o=n(21),u=a(o);n(190);var r=n(22),l=a(r),c=n(5),d=a(c);new s["default"]({router:u["default"],template:"<router-view></router-view>"}).$mount("app"),l["default"].get()["catch"](function(e){return d["default"].alert(e.message)}),document.body.onselectstart=document.body.ondrag=function(){return!1}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={website:{title:"非匠",logo:n(47)},account:{},showMainMenu:!1,showUserMenu:!1,showAdminMenu:!1,defaultAvatar:n(47),TOKEN_KEY:"KING-TOKEN"}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=document.createElement("div");document.body.appendChild(n);var a=r["default"].extend({data:function(){return{show:!0,config:t}},template:'<pk-dialog v-if="show"  :close="close" :config="config">'+e+"</pk-dialog>",methods:{close:function(){this.show=!1}}});return(new a).$mount(n)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(161),o=a(s),u=n(1),r=a(u);n(167),t["default"]={alert:function(e,t){var n={autoClose:!0,title:"提示",type:"alert",onConfirm:function(){}};return"function"==typeof t?n.onConfirm=t:n=(0,o["default"])({},n,t),i(e,n)},confirm:function(e,t,n){var a=(0,o["default"])({autoClose:!0,title:"提示"},a,{type:"confirm",onConfirm:function(){},onCancel:function(){}});return"function"==typeof t&&(a.onConfirm=t),"function"==typeof n&&(a.onCancel=n),a=(0,o["default"])({},a,t),i(e,a)}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(184),s=a(i),o=n(186),u=a(o),r=n(185),l=a(r),c=n(187);t["default"]={account:s["default"],node:u["default"],nodes:o.nodes,initializeNode:o.initializeNode,users:c.users,invitation:l["default"]}},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(74);var i=n(98),s=a(i),o=n(1),u=a(o),r=n(2),l=a(r);n(164);var c=n(5),d=a(c),f=n(22),p=a(f);u["default"].component("head-nav-menu",{template:s["default"],data:function(){return{G:l["default"]}},methods:{logout:function(){d["default"].confirm("确定退出当前账号？",function(){p["default"].logout()["catch"](function(e){return d["default"].alert(e.message)})})}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=a(i),o=n(116),u=a(o),r=n(2),l=a(r),c=n(188),d=a(c),f=n(175),p=a(f),v=n(176),m=a(v),h=n(179),g=a(h),b=n(169),M=a(b),k=n(180),w=a(k),y=n(168),P=a(y),A=n(172),N=a(A),E=n(177),_=a(E),S=n(178),D=a(S);s["default"].use(u["default"]);var x=[{name:"home",path:"/",component:s["default"].extend(p["default"])},{name:"contact",path:"/contact",component:s["default"].extend(_["default"])},{name:"declaration",path:"/declaration",component:s["default"].extend(D["default"])},{name:"register",path:"/register",component:s["default"].extend(g["default"])},{name:"login",path:"/login",component:s["default"].extend(m["default"])},{path:"/user",component:s["default"].extend(M["default"]),children:[{name:"user.profile",path:"profile",component:s["default"].extend(w["default"].Profile),beforeEnter:d["default"].beforeUserRouteEnter},{name:"user.nodes",path:"nodes",component:s["default"].extend(w["default"].Nodes),beforeEnter:d["default"].beforeUserRouteEnter},{name:"user.invitationCodes",path:"invitation/codes",component:w["default"].InvitationCodes,beforeEnter:d["default"].beforeUserRouteEnter}]},{path:"/admin",component:s["default"].extend(P["default"]),children:[{name:"admin.profile",path:"profile",component:s["default"].extend(w["default"].Profile),beforeEnter:d["default"].beforeAdminRouteEnter},{name:"admin.nodes",path:"nodes",component:s["default"].extend(N["default"].Nodes),beforeEnter:d["default"].beforeAdminRouteEnter},{name:"admin.users",path:"users",component:s["default"].extend(N["default"].Users),beforeEnter:d["default"].beforeAdminRouteEnter},{name:"admin.invitationCodes",path:"invitation/codes",component:w["default"].InvitationCodes,beforeEnter:d["default"].beforeAdminRouteEnter}]},{path:"*",redirect:"/"}],C=new u["default"]({routes:x});C.beforeEach(function(e,t,n){l["default"].showMainMenu=!1,l["default"].showUserMenu=!1,n()}),t["default"]=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),s=a(i),o=n(2),u=a(o),r=n(21),l=a(r),c=n(7),d=a(c),f={accountCheck:void 0};t["default"]={get:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u["default"].account.id&&!e?s["default"].resolve(u["default"].account):f.accountCheck?f.accountCheck:f.accountCheck=d["default"].account.check.get().then(function(e){return e.result&&e.result.id&&(u["default"].account=e.result),e.result})["finally"](function(){f.accountCheck=void 0})},logout:function(){return d["default"].account.logout.save().then(function(){u["default"].account={},l["default"].push({name:"home"})})}}},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(79);var i=n(103),s=a(i),o=n(1),u=a(o);u["default"].component("content-header",{props:["title"],template:s["default"]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),s=a(i),o=n(158),u=a(o),r=n(1),l=a(r),c=n(92),d=a(c),f=n(2),p=a(f),v=n(66),m=a(v);l["default"].use(d["default"]),l["default"].http.interceptors.push(function(e,t){var n=m["default"].get(p["default"].TOKEN_KEY)||"";e.headers.append(p["default"].TOKEN_KEY,n),t()});var h=function(){var e=l["default"].resource.apply(l["default"],arguments);return(0,u["default"])(e).map(function(t){var n=e[t];e[t]=function(){return n.apply(void 0,arguments).then(g,b)}}),e},g=function(e){return e.ok?e.json():b(e)},b=function(e){try{return e.json().then(function(e){return s["default"].reject(e)})}catch(t){throw new window.Error(e.statusText)}};t["default"]=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),a={empty:function(e){return""===e||null===e||void 0===e},authCode:function(e){return/^\d{4}$/.test(e)},phoneNumber:function(e){return/(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/.test(e)},email:function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},URL:function(e){return n.test(e)},invitationCode:function(e){return/[0-9a-zA-Z]{8}/.test(e)},password:function(e){return/^[\S]{6,12}$/.test(e)},VPNAuth:function(e){return/^[0-9a-zA-Z]{4,10}$/.test(e)}};t["default"]=a},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(68);var i=n(93),s=a(i),o=n(1),u=a(o);u["default"].component("pk-button",{props:["text","isLoading"],template:s["default"]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(76);var i=n(100),s=a(i),o=n(1),u=a(o);u["default"].component("tips",u["default"].extend({props:["type","message"],template:s["default"]}))},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(29),s=a(i);n(75);var o=n(99),u=a(o),r=n(1),l=a(r);l["default"].component("pk-modal",{template:u["default"],props:{title:{type:String},innerMask:{type:Boolean},beforeClose:{type:Function}},data:function(){return{className:""}},methods:{close:function(){var e=this,t=this.beforeClose||s["default"].resolve;return t().then(function(t){return e.destroy(),t})},clickMask:function(e){e.preventDefault(),this.clickMaskToClose&&this.close()}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(157),s=a(i),o=n(162),u=a(o),r={get:function(e){var t=window.localStorage.getItem(e);try{var n=JSON.parse(t),a=n.type,i=n.expire,s=n.date;return a?i&&s&&s+i<+new Date?(r.remove(e),null):n.data:t}catch(o){return t}},set:function(e,t,n){var a="undefined"==typeof t?"undefined":(0,u["default"])(t),i=(0,s["default"])({type:a,data:t,expire:n,date:+new Date});window.localStorage.setItem(e,i)},remove:function(e){window.localStorage.removeItem(e)}};t["default"]=r},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){e.exports='<button class=pure-button> <i v-if=isLoading class="fa fa-spinner"></i> <slot>确定</slot> </button> '},function(e,t){e.exports='<span class="custom-icon icon-bars"></span> '},function(e,t){e.exports="<span class=loader> <i class=image-loader></i> <slot></slot> </span> "},function(e,t){e.exports='<span class="custom-icon icon-times"></span> '},function(e,t){e.exports='<section class=pk-dialog-container v-bind:class=className> <section class=mask></section> <section class=pk-dialog> <header class=pk-dialog-head>{{config.title}}</header> <section class=pk-dialog-body> <slot></slot> </section> <footer class="pk-dialog-footer pure-g" v-if="config.type===\'alert\'"> <pk-button class="btn-confirm pure-u-1" v-on:click.native=confirm>确定</pk-button> </footer> <footer class="pk-dialog-footer pure-g" v-if="config.type===\'confirm\'"> <pk-button class="pure-u-1-2 btn-cancel" v-on:click.native=cancel>取消</pk-button> <pk-button class="pure-u-1-2 btn-confirm" v-on:click.native=confirm>确定</pk-button> </footer> </section> </section> '},function(e,t){e.exports='<nav class="pure-menu pure-menu-horizontal head-menu" v-bind:class="{\'show\':G.showMainMenu}"> <img class=logo :src=G.website.logo /> <router-link to=/ class=pure-menu-heading> {{G.website.title}} </router-link> <ul class="pure-menu-list main-menu"> <router-link class=pure-menu-item active-class=pure-menu-selected tag=li to=/ > <a class=pure-menu-link>首页</a> </router-link> <router-link class=pure-menu-item active-class=pure-menu-selected tag=li to=/declaration> <a class=pure-menu-link>使用说明</a> </router-link> <router-link class=pure-menu-item active-class=pure-menu-selected tag=li to=/contact> <a class=pure-menu-link>联系我们</a> </router-link> </ul> <ul v-if=G.account.email class="pure-menu-list account-menu"> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <router-link to="" class="pure-menu-link pure-menu-sub-item">{{G.account.email}}</router-link> <ul class=pure-menu-children> <li class=pure-menu-item><router-link to=/user/profile class=pure-menu-link>个人资料</router-link></li> <li class=pure-menu-item><router-link to="" v-on:click.native=logout class=pure-menu-link>退出</router-link></li> </ul> </li> </ul> <ul v-else class="pure-menu-list account-menu"> <li class=pure-menu-item> <router-link to=/login class=pure-menu-link>登录</router-link> </li> <li class=pure-menu-item> <router-link to=/register class=pure-menu-link>注册</router-link> </li> </ul> <ul class="pure-menu-list oops-menu"> <transition name=fade> <li class="pure-menu-item bars" v-if=!G.showMainMenu v-on:click="G.showMainMenu=true"> <icon-bars class=pure-menu-icon></icon-bars> </li> </transition> <transition name=fade> <li class="pure-menu-item times" v-if=G.showMainMenu v-on:click="G.showMainMenu=false"> <icon-times class=pure-menu-icon></icon-times> </li> </transition> </ul> </nav> '},function(e,t){e.exports="<section class=pk-modal-container v-bind:class=className> <section class=mask v-on:click=clickMask></section> <section class=pk-modal> <header class=pk-modal-head>{{title}}</header> <section class=pk-modal-body> <div class=inner-mask v-if=innerMask></div> <slot></slot> </section> </section> </section> "},function(e,t){e.exports='<div class=tips v-bind:class=type> <span v-if="type===\'info\'" class="fa fa-exclamation-triangle"></span> <span v-if="type===\'warning\'" class="fa fa-warning"></span> <span v-if="type===\'error\'" class="fa fa-warning"></span> {{message}} </div> '},function(e,t){e.exports="<section id=container class=admin-container> <admin-menu></admin-menu> <section id=mainContent> <router-view></router-view> </section> </section> "},function(e,t){e.exports="<section id=container class=user-container> <user-menu></user-menu> <section id=mainContent> <router-view></router-view> </section> </section> "},function(e,t){e.exports="<header class=content-header> <h2><slot></slot></h2> </header> "},function(e,t){e.exports='<aside class="sidebar-menu admin-menu" v-bind:class={show:G.showUserMenu}> <div class=mask v-if=G.showUserMenu v-on:click="G.showUserMenu=false"></div> <router-link class=user-box to=home> <img class=avatar v-bind:src=G.account.avatar||G.defaultAvatar /> <span class=email>{{G.account.email}}</span> </router-link> <div class=main-menu> <ul class=pure-menu-list> <li class=pure-menu-item> <router-link to=/admin/profile class=pure-menu-link>个人资料</router-link> </li> <li class=pure-menu-item> <router-link to=/admin/users class=pure-menu-link>用户列表</router-link> </li> <li class=pure-menu-item> <router-link to=/admin/nodes class=pure-menu-link>节点列表</router-link> </li> <li class=pure-menu-item> <router-link to=/admin/invitation/codes class=pure-menu-link>内测口令</router-link> </li> <li class="pure-menu-item menu-item-logout" v-on:click=logout> <span class=pure-menu-link><i class="fa fa-power-off"></i>退出</span> </li> </ul> </div> <ul class="pure-menu-list oops-menu"> <transition name=fade> <li class="pure-menu-item bars" v-if=!G.showUserMenu v-on:click="G.showUserMenu=true"> <icon-bars class=pure-menu-icon></icon-bars> </li> </transition> <transition name=fade> <li class="pure-menu-item times" v-if=G.showUserMenu v-on:click="G.showUserMenu=false"> <icon-times class=pure-menu-icon></icon-times> </li> </transition> </ul> <div class=item-logout v-on:click=logout title=退出当前账号> <i class="fa fa-power-off"></i> </div> </aside> '},function(e,t){e.exports='<aside class="sidebar-menu user-menu" v-bind:class={show:G.showUserMenu}> <div class=mask v-if=G.showUserMenu v-on:click="G.showUserMenu=false"></div> <router-link class=user-box to=home> <img class=avatar v-bind:src=G.account.avatar||G.defaultAvatar /> <span class=email>{{G.account.email}}</span> </router-link> <div class=main-menu> <ul class=pure-menu-list> <li class=pure-menu-item> <router-link to=/user/profile class=pure-menu-link>个人资料</router-link> </li> <li class=pure-menu-item> <router-link to=/user/nodes class=pure-menu-link>节点列表</router-link> </li> <li class="pure-menu-item menu-item-logout" v-on:click=logout> <span class=pure-menu-link><i class="fa fa-power-off"></i>退出</span> </li> </ul> </div> <ul class="pure-menu-list oops-menu"> <transition name=fade> <li class="pure-menu-item bars" v-if=!G.showUserMenu v-on:click="G.showUserMenu=true"> <icon-bars class=pure-menu-icon></icon-bars> </li> </transition> <transition name=fade> <li class="pure-menu-item times" v-if=G.showUserMenu v-on:click="G.showUserMenu=false"> <icon-times class=pure-menu-icon></icon-times> </li> </transition> </ul> <div class=item-logout v-on:click=logout title=退出当前账号> <i class="fa fa-power-off"></i> </div> </aside> '},function(e,t){e.exports='<section id=nodes> <content-header>节点列表</content-header> <section class=panel-list> <div class="panel-item panel-attention"> <p class=info><strong>注意！</strong></p> <p class=info>请勿在任何地方公开节点地址！</p> <div class=oops> <pk-button class="btn-create pure-input-1" :is-loading=isCreating :disabled=isCreating v-on:click.native=update() v-if=!isFetching> 添加节点 </pk-button> </div> </div> <div class="panel-item panel-node-list"> <loader v-if=isFetching></loader> <section v-if="!isFetching && nodes.length===0" class=panel-empty-item> <span>尚未添加节点</span> </section> <div class=panel-node-item v-for="node in nodes" :node=node> <header class="node-item-heading clearfix"> <span class="fa fa-qrcode" v-on:click=showQRCode(node)></span> <span class=node-name>{{node.name}}</span> <div class=tools> <span class="editor fa fa-wrench" v-on:click=update(node) title=修改></span> <pk-button class=btn-init :is-loading=node.isInitializing :disabled=node.isInitializing v-on:click.native=initialize(node)>初始化</pk-button> </div> </header> <section class=node-item-body> <section class=node-item-card> <div class=node-card-content> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2">地址：{{node.host}}</div> <div class="pure-u-1 pure-u-md-1-2">加密：{{node.protocol}}</div> </div> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2">端口：{{G.account.port}}</div> <div class="pure-u-1 pure-u-md-1-2">密码：{{G.account.auth}}</div> </div> <p class=tips> 请勿在任何地方公开节点地址！ </p> </div> </section> </section> </div> </div> </section> <pk-modal v-if=showNodeEditor :title="activeNode.id?\'编辑节点\':\'添加节点\'"> <form class="pure-form pure-form-aligned node-editor"> <fieldset class=pure-group> <div class=pure-control-group> <label>节点名称</label> <input type=text placeholder=节点名称 v-model=activeNode.name /> </div> <div class=pure-control-group> <label>节点IP/域名</label> <input type=text placeholder=节点IP/域名 v-model=activeNode.host /> </div> <div class=pure-control-group> <label>登录用户名</label> <input type=text placeholder=登录用户名 v-model=activeNode.username /> </div> <div class=pure-control-group> <label>登录端口</label> <input type=number placeholder=登录端口 v-model=activeNode.port /> </div> <div class=pure-control-group> <label>私钥文件路径</label> <input type=text placeholder=私钥文件路径 v-model=activeNode.privateKeyPath /> </div> <div class=pure-control-group> <label>SS加密算法</label> <input type=text placeholder=SS加密算法 v-model=activeNode.protocol /> </div> <tips v-if=activeNode.errorMessage type=error :message=activeNode.errorMessage></tips> <div class=pure-controls> <pk-button class="" :is-loading=activeNode.isSaveing v-on:click.native=saveNode($event)>保存</pk-button> <pk-button v-on:click.native="$event.preventDefault();showNodeEditor=false;">取消</pk-button> </div> </fieldset> </form> </pk-modal> </section> '},function(e,t){e.exports='<section id=users> <content-header>用户列表</content-header> <section class=panel-list> <div class="panel-item panel-attention"> <p>我梦见我们牵着手一起走向夕阳。</p> <p>微风吹拂着小草，我想那就是诗和远方。</p> <p>如果还有明天...</p> </div> <div class="panel-item panel-node-list"> <loader v-if=isFetching></loader> <div class=panel-user-item v-for="user in users" :user=user> <header class=user-item-heading> <span class=user-name>{{user.email}}</span> <span class="validate-info success" v-if=user.validated>已验证</span> <span class="validate-info error" v-if=!user.validated>未验证</span> </header> <section class=user-item-body> <section class=user-item-card> <div class=user-card-content> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2">账户角色：{{{admin:\'管理员\',user:\'普通成员\'}[user.role]}}</div> <div class="pure-u-1 pure-u-md-1-2">注册时间：{{user.createDate | formatDate(\'yyyy-MM-dd hh:mm\')}}</div> </div> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2">代理端口：{{user.port}}</div> <div class="pure-u-1 pure-u-md-1-2">代理密码：{{user.auth}}</div> </div> </div> </section> </section> </div> </div> </section> </section> '},function(e,t){e.exports=' <section id=Home> <section class="container banner"> <h2 class="animated bounceInDown">非匠</h2> <h3 class="animated bounceInUp">从不让用户蛋疼</h3> <div class=swiper-container> <div class=swiper-wrapper> <div class="swiper-slide animated bounceInDown">Slide 1</div> <div class="swiper-slide animated bounceInLeft">Slide 2</div> <div class="swiper-slide animated bounceInRight">Slide 3</div> </div> </div> <div class=feij-advantage> <dl class=advantage-item> <dt> <div class="icon-contain contain-speed-up animated rubberBand"> <span class=icon></span> </div> </dt> <dd>智能加速</dd> </dl> <dl class=advantage-item> <dt> <div class="icon-contain contain-secure animated rubberBand"> <span class=icon></span> </div> </dt> <dd>数据加密 隐私保护</dd> </dl> <dl class=advantage-item> <dt> <div class="icon-contain contain-compatible animated rubberBand"> <span class=icon></span> </div> </dt> <dd>完美兼容各种系统</dd> </dl> </div> </section> </section> '},function(e,t){e.exports=' <section class="container login-container"> <section class=login-box> <header class=box-head>用户登录</header> <form class=pure-form> <tips v-if=errorMessage type=error v-bind:message=errorMessage></tips> <fieldset class=pure-group> <input type=text class=pure-input-1 placeholder=邮箱 v-model=email /> <input type=password class=pure-input-1 placeholder=密码 v-model=password /> </fieldset> <pk-button class="btn-login pure-input-1" :is-loading=isLogin v-on:click.native=login>登录</pk-button> <div class=oops> <router-link to=/register>立即注册</router-link> <router-link to=/foregt class=right>忘记密码</router-link> </div> </form> </section> </section> '},function(e,t){e.exports="<head-nav-menu v-bind:account=account></head-nav-menu> "},function(e,t){e.exports="<section> <head-nav-menu v-bind:account=account></head-nav-menu> <section> 坚决拥护中国共产党的号召！ </section> </section> "},function(e,t){e.exports='<section class="container register-container"> <section class=register-box> <header class=box-head>用户注册</header> <form class=pure-form> <tips v-if=errorMessage type=error v-bind:message=errorMessage></tips> <fieldset class=pure-group> <input type=email class=pure-input-1 required placeholder=邮箱 v-model=email /> <input type=password class=pure-input-1 required placeholder=密码 v-model=password /> <input type=text class=pure-input-1 required placeholder=邀请码 v-model=invitationCode /> </fieldset> <pk-button class="btn-login pure-input-1" :is-loading=isRegister v-on:click.native=register>注册</pk-button> <div class=oops>已有账号?<router-link to=/login>返回登录</router-link></div> </form> </section> </section> '},function(e,t){e.exports='<section id=invitationCodes> <content-header>内测口令</content-header> <section class=panel-list> <div class="panel-item panel-attention"> <p class=info>每个账号每天可申请{{maxInvitationCodeAmount}}个内测口令，今日剩余{{maxInvitationCodeAmount - codes.length}}个口令名额。</p> <p class=info>仅显示今日申请的口令，但之前申请的仍然有效，如需要请自行保存！</p> <div class=oops> <pk-button class="btn-create pure-input-1" :is-loading=isCreating :disabled=isCreating v-on:click.native=create v-if="!isFetching && codes.length < maxInvitationCodeAmount"> 创建口令 </pk-button> <button class="pure-button pure-input-1" disabled=disabled v-if="!isFetching && codes.length >= maxInvitationCodeAmount"> 今日口令数量已使用完 </button> </div> </div> <div class="panel-item panel-code-list"> <loader v-if=isFetching></loader> <section v-if="!isFetching && codes.length===0" class=panel-empty-item> <span>今日尚未创建内测口令</span> </section> <section class=panel-code-item v-for="(code,index) in codes" :node=code> <header class=code-item-heading> <span class=code-index># {{index+1}}</span> <span class=code-date title=口令创建时间>{{code.createDate | formatDate(\'hh:mm\')}}</span> </header> <section class=code-item-body> <section class=code-item-card> <div class=code-card-content> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2"> <span class=title>内测口令：</span> <span>{{code.code}}</span> </div> <div class="pure-u-1 pure-u-md-1-2"> <span class=title>使用状态：</span> <span class=text-success v-if=code.state>未使用</span> <span class=text-error v-if=!code.state>已使用</span> </div> </div> <div class=pure-g v-if=code.inviteeId> <div class="pure-u-1 pure-u-md-1-2"> <span class=title>被邀请人：</span> <span>{{code.inviteeId}}</span> </div> <div class="pure-u-1 pure-u-md-1-2"> <span class=title>使用时间：</span> <span>{{code.consumeDate | formatDate(\'yyyy-MM-dd hh:mm\')}}</span> </div> </div> </div> </section> </section> </section> </div> </section> </section> '},function(e,t){e.exports='<section id=nodes> <content-header>节点列表</content-header> <section class=panel-list> <div class="panel-item panel-attention"> <p class=info><strong>注意！</strong></p> <p class=info>请勿在任何地方公开节点地址！</p> <p class=info>您只需要在Shadowrocket App中填写相应的配置，或直接使用App扫描二维码即可自动配置节点。</p> </div> <div class="panel-item panel-node-list"> <loader v-if=isFetching></loader> <div class=panel-node-item v-for="node in nodes" :node=node> <header class=node-item-heading> <span class="fa fa-qrcode" v-on:click=showQRCode(node)></span> <span class=node-name>{{node.name}}</span> <span class=tips>（点击二维码图标可查看节点二维码）</span> </header> <section class=node-item-body> <section class=node-item-card> <div class=node-card-content> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2">地址：{{node.host}}</div> <div class="pure-u-1 pure-u-md-1-2">加密：{{node.protocol}}</div> </div> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2">端口：{{G.account.port}}</div> <div class="pure-u-1 pure-u-md-1-2">密码：{{G.account.auth}}</div> </div> <p class=tips> 请勿在任何地方公开节点地址！ </p> </div> </section> </section> </div> </div> </section> </section> '},function(e,t){e.exports='<section id=dashboard> <content-header>个人资料</content-header> <section class=dashboard-contain> <div class=controls> <span class=btn-link v-on:click="VPNEditorData.show=true">修改VPN密码</span> <span class=btn-link v-on:click="PSWEditorData.show=true">修改登录密码</span> </div> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2"> <span>邮箱：</span><span>{{account.email}}</span> </div> </div> <div class=pure-g> <div class="pure-u-1 pure-u-md-1-2"> <span>shadowsocks端口：</span><span>{{account.port}}</span> </div> <div class="pure-u-1 pure-u-md-1-2"> <span>shadowsocks密码：</span><span>{{account.auth}}</span> </div> </div> </section> <pk-modal title=修改VPN密码 v-if=VPNEditorData.show class=VPN :inner-mask=VPNEditorData.isSaveing> <p class=oops>1、由于该操作的特殊性，系统可能会在将来的某个时间执行修改操作；</p> <p class=oops>2、修改VPN密码之前请确认记录好原VPN密码或保存二维码图片；</p> <p class=oops>3、如有任何疑问可在微信公众号留言，我们会及时联系并为你解决！</p> <form class="pure-form pure-form-aligned"> <tips v-if=VPNEditorData.errorMessage type=error v-bind:message=VPNEditorData.errorMessage></tips> <fieldset class=pure-group> <div class=pure-control-group> <label>新VPN密码</label> <input type=text placeholder=请输入新的VPN密码 v-model=VPNEditorData.password /> </div> <div class=pure-control-group> <label>确认新密码</label> <input type=text placeholder=请再次输入新的VPN密码 v-model=VPNEditorData.confirmPSW /> </div> <div class=pure-control-group> <label>登录密码</label> <input type=password placeholder=请输入您的账户登录密码 v-model=VPNEditorData.accountPSW /> </div> <div class=pure-controls> <pk-button class="" :is-loading=VPNEditorData.isSaveing v-on:click.native=saveVPNPSW($event)>保存</pk-button> <pk-button v-on:click.native=closeVPNEditor($event)>取消</pk-button> </div> </fieldset> </form> </pk-modal> <pk-modal title=修改登录密码 v-if=PSWEditorData.show :inner-mask=PSWEditorData.isSaveing> <form class="pure-form pure-form-aligned"> <tips v-if=PSWEditorData.errorMessage type=error v-bind:message=PSWEditorData.errorMessage></tips> <fieldset class=pure-group> <div class=pure-control-group> <label>新登录密码</label> <input type=password placeholder=请输入新的登录密码 v-model=PSWEditorData.password /> </div> <div class=pure-control-group> <label>确认新密码</label> <input type=password placeholder=请再次输入新的登录密码 v-model=PSWEditorData.confirmPSW /> </div> <div class=pure-control-group> <label>原登录密码</label> <input type=password placeholder=请输入您的原登录密码 v-model=PSWEditorData.accountPSW /> </div> <div class=pure-controls> <pk-button class="" :is-loading=PSWEditorData.isSaveing v-on:click.native=saveAccountPSW($event)>保存</pk-button> <pk-button v-on:click.native=closePSWEditor($event)>取消</pk-button> </div> </fieldset> </form> </pk-modal> </section> '},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(69);var i=n(94),s=a(i),o=n(1),u=a(o);u["default"].component("icon-bars",{template:s["default"]})},function(e,t,n){"use strict";n(70),n(163),n(166),n(165)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(71);var i=n(95),s=a(i),o=n(1),u=a(o);u["default"].component("loader",{template:s["default"]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(72);var i=n(96),s=a(i),o=n(1),u=a(o);u["default"].component("icon-times",{template:s["default"]
})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(29),s=a(i);n(73);var o=n(97),u=a(o),r=n(1),l=a(r);l["default"].component("pk-dialog",{template:u["default"],props:{config:{type:Object,required:!0},close:{type:Function,required:!0}},data:function(){return{className:this.config.type+(this.config.className?" "+this.config.className:"")}},methods:{confirm:function(){var e=this;s["default"].resolve(this.config.onConfirm()).then(function(){e.config.autoClose&&e.close()})},cancel:function(){var e=this;s["default"].resolve(this.config.onCancel()).then(function(){e.config.autoClose&&e.close()})}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(48),n(77);var i=n(101),s=a(i);n(170),t["default"]={template:s["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(48),n(78);var i=n(102),s=a(i);n(171),t["default"]={template:s["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(49),n(80);var i=n(104),s=a(i),o=n(2),u=a(o),r=n(1),l=a(r),c=n(22),d=a(c),f=n(5),p=a(f);l["default"].component("admin-menu",{template:s["default"],data:function(){return{G:u["default"]}},methods:{logout:function(){p["default"].confirm("确定退出当前账号？",function(){d["default"].logout()["catch"](function(e){return p["default"].alert(e.message)})})}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(49),n(81);var i=n(105),s=a(i),o=n(2),u=a(o),r=n(1),l=a(r),c=n(22),d=a(c),f=n(5),p=a(f);l["default"].component("user-menu",{template:s["default"],data:function(){return{G:u["default"]}},methods:{logout:function(){p["default"].confirm("确定退出当前账号？",function(){d["default"].logout()["catch"](function(e){return p["default"].alert(e.message)})})}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(173),s=a(i),o=n(174),u=a(o);t["default"]={Nodes:s["default"],Users:u["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(64),s=a(i);n(82),n(30),n(65),n(46),n(45);var o=n(106),u=a(o),r=n(2),l=a(r),c=n(7),d=a(c),f=n(5),p=a(f),v=n(32),m=a(v);t["default"]={template:u["default"],data:function(){return{G:l["default"],nodes:[],isFetching:!0,isCreating:!1,showNodeEditor:!1,activeNode:{errorMessage:"",isSaveing:!1}}},mounted:function(){this.init()},methods:{init:function(){var e=this;d["default"].nodes.query().then(function(t){e.nodes=t.result.map(function(e){return e.isInitializing=!1,e})})["catch"](function(e){p["default"].alert(e.message)})["finally"](function(){e.isFetching=!1})},saveNode:function(e){var t=this;return e.preventDefault(),m["default"].empty(this.activeNode.name)?this.activeNode.errorMessage="节点名称不能为空":m["default"].empty(this.activeNode.port)?this.activeNode.errorMessage="节点IP/域名不能为空":(this.activeNode.errorMessage="",this.activeNode.isSaveing=!0,void(this.activeNode.id?d["default"].node.update({nodeId:this.activeNode.id},this.activeNode):d["default"].nodes.save(this.activeNode)).then(function(){t.showNodeEditor=!1,t.init()})["catch"](function(e){t.activeNode.errorMessage=e.message})["finally"](function(){t.activeNode.isSaveing=!1}))},showQRCode:function(e){p["default"].alert('<h4>使用 Shadowrocket App 扫描下方二维码可自动完成配置</h4><img class="ss-qrcode" src="'+e.URI+'" />',{title:"节点二维码",className:"ss-qrcode-modal"})},update:function(e){this.activeNode=(0,s["default"])(this.activeNode,e||{username:"root",port:22,privateKeyPath:"/root/.ssh/id_rsa",protocol:"rc4-md5"}),this.showNodeEditor=!0},initialize:function(e){p["default"].confirm("初始化操作比较慢哟！",function(){e.isInitializing=!0,d["default"].initializeNode.save({nodeId:e.id},{}).then(function(){p["default"].alert("初始化成功！")})["catch"](function(e){return p["default"].alert(e.message)})["finally"](function(){e.isInitializing=!1})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(83),n(30),n(65);var i=n(107),s=a(i),o=n(2),u=a(o),r=n(7),l=a(r),c=n(5),d=a(c);t["default"]={template:s["default"],data:function(){return{G:u["default"],users:[],isFetching:!0,isCreating:!1,showNodeEditor:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this;l["default"].users.query().then(function(t){e.users=t.result})["catch"](function(e){d["default"].alert(e.message)})["finally"](function(){e.isFetching=!1})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(84);var i=n(108),s=a(i);n(20);var o=n(2),u=a(o);t["default"]={template:s["default"],data:function(){var e=u["default"].account||{};return{account:e}},created:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(85);var i=n(109),s=a(i);n(46),n(45),n(20);var o=n(2),u=a(o),r=n(7),l=a(r),c=n(32),d=a(c),f=n(5),p=a(f),v=n(21),m=a(v),h=n(66),g=a(h);t["default"]={template:s["default"],data:function(){return{errorMessage:"",email:"",password:"",isLogin:!1}},methods:{login:function(e){var t=this;return e.preventDefault(),d["default"].empty(this.email)?this.errorMessage="邮箱不能为空！":d["default"].email(this.email)?d["default"].empty(this.password)?this.errorMessage="密码不能为空！":this.password.length<6?this.errorMessage="密码长度不能小于六位！":(this.errorMessage="",this.isLogin=!0,void l["default"].account.login.save({email:this.email,password:this.password}).then(function(e){u["default"].account=e.result,t.isLogin=!1,g["default"].set(u["default"].TOKEN_KEY,u["default"].account.token),m["default"].push({name:"user.profile"})})["catch"](function(e){p["default"].alert(e.message),t.isLogin=!1})):this.errorMessage="邮箱格式不正确！"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(86);var i=n(110),s=a(i);n(20);var o=n(2),u=a(o);t["default"]={template:s["default"],data:function(){var e=u["default"].account||{};return{account:e}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(87);var i=n(111),s=a(i),o=n(2),u=a(o);n(20),t["default"]={template:s["default"],data:function(){var e=u["default"].account||{};return{account:e}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(88);var i=n(112),s=a(i);n(46),n(45),n(20);var o=n(2),u=a(o),r=n(7),l=a(r),c=n(32),d=a(c),f=n(5),p=a(f),v=n(21),m=a(v);t["default"]={template:s["default"],data:function(){return{errorMessage:"",email:"",password:"",invitationCode:"",isRegister:!1}},methods:{register:function(e){var t=this;return e.preventDefault(),d["default"].empty(this.email)?this.errorMessage="邮箱不能为空！":d["default"].email(this.email)?d["default"].empty(this.password)?this.errorMessage="密码不能为空！":this.password.length<6?this.errorMessage="密码长度不能小于六位！":d["default"].empty(this.invitationCode)?this.errorMessage="邀请码不能为空":d["default"].invitationCode(this.invitationCode)?(this.errorMessage="",this.isRegister=!0,void l["default"].account.register.save({email:this.email,password:this.password,invitationCode:this.invitationCode}).then(function(e){u["default"].account=e.result,t.isRegister=!1,m["default"].push("user.profile")})["catch"](function(e){p["default"].alert(e.message),t.isRegister=!1})):this.errorMessage="邀请码为8位数字+字母组合":this.errorMessage="邮箱格式不正确！"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(183),s=a(i),o=n(182),u=a(o),r=n(181),l=a(r);t["default"]={Profile:s["default"],Nodes:u["default"],InvitationCodes:l["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(89),n(30);var i=n(113),s=a(i),o=n(7),u=a(o),r=n(5),l=a(r);t["default"]={template:s["default"],data:function(){return{codes:[],isFetching:!0,isCreating:!1,maxInvitationCodeAmount:10}},mounted:function(){var e=this;u["default"].invitation.codes.query().then(function(t){e.codes=t.result})["catch"](function(e){l["default"].alert(e.message)})["finally"](function(){e.isFetching=!1})},methods:{create:function(){var e=this;this.isCreating||(this.isCreating=!0,u["default"].invitation.codes.save().then(function(t){e.codes.push(t.result)})["catch"](function(e){l["default"].alert(e.message)})["finally"](function(){e.isCreating=!1}))}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(90),n(30);var i=n(114),s=a(i),o=n(2),u=a(o),r=n(7),l=a(r),c=n(5),d=a(c);t["default"]={template:s["default"],data:function(){return{G:u["default"],nodes:[],isFetching:!0}},mounted:function(){var e=this;l["default"].nodes.query().then(function(t){e.nodes=t.result})["catch"](function(e){d["default"].alert(e.message)})["finally"](function(){e.isFetching=!1})},methods:{showConfigInfo:function(){d["default"].alert("然而点我也并没有什么卵用！")},showQRCode:function(e){d["default"].alert('<h4>使用 Shadowrocket App 扫描下方二维码可自动完成配置</h4><img class="ss-qrcode" src="'+e.URI+'" />',{title:"节点二维码",className:"ss-qrcode-modal"})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(91);var i=n(115),s=a(i),o=n(2),u=a(o),r=n(32),l=a(r),c=n(7),d=a(c),f=n(5),p=a(f);t["default"]={template:s["default"],data:function(){return{account:u["default"].account,VPNEditorData:{show:!1,password:"",confirmPSW:"",accountPSW:"",isSaveing:!1,errorMessage:""},PSWEditorData:{show:!1,password:"",confirmPSW:"",accountPSW:"",isSaveing:!1,errorMessage:""}}},methods:{closeVPNEditor:function(e){e.preventDefault(),this.VPNEditorData.show=!1},closePSWEditor:function(e){e.preventDefault(),this.PSWEditorData.show=!1},saveVPNPSW:function(e){var t=this;return e.preventDefault(),l["default"].empty(this.VPNEditorData.password)?this.VPNEditorData.errorMessage="新VPN密码不能为空！":l["default"].VPNAuth(this.VPNEditorData.password)?this.VPNEditorData.password!==this.VPNEditorData.confirmPSW?this.VPNEditorData.errorMessage="两次新VPN密码不一致！":l["default"].empty(this.VPNEditorData.accountPSW)?this.VPNEditorData.errorMessage="登录密码不能为空":l["default"].password(this.VPNEditorData.accountPSW)?(this.VPNEditorData.errorMessage="",this.VPNEditorData.isSaveing=!0,void d["default"].account.update.update({password:this.VPNEditorData.accountPSW,newAuth:this.VPNEditorData.password}).then(function(){t.VPNEditorData.isSaveing=!1,t.VPNEditorData.show=!1,u["default"].account.auth=t.VPNEditorData.password})["catch"](function(e){p["default"].alert(e.message),t.VPNEditorData.isSaveing=!1})):this.VPNEditorData.errorMessage="登录密码长度为6-12位字符":this.VPNEditorData.errorMessage="VPN密码只能为4-10位的数字字母组合！"},saveAccountPSW:function(e){var t=this;return e.preventDefault(),l["default"].empty(this.PSWEditorData.password)?this.PSWEditorData.errorMessage="新的登录密码不能为空！":l["default"].password(this.PSWEditorData.password)?this.PSWEditorData.password!==this.PSWEditorData.confirmPSW?this.PSWEditorData.errorMessage="两次新登录密码不一致！":l["default"].empty(this.PSWEditorData.accountPSW)?this.PSWEditorData.errorMessage="原登录密码不能为空":l["default"].password(this.PSWEditorData.accountPSW)?(this.PSWEditorData.errorMessage="",this.PSWEditorData.isSaveing=!0,void d["default"].account.update.update({password:this.PSWEditorData.accountPSW,newPassword:this.PSWEditorData.password}).then(function(){t.PSWEditorData.isSaveing=!1,t.PSWEditorData.show=!1})["catch"](function(e){p["default"].alert(e.message),t.PSWEditorData.isSaveing=!1})):this.PSWEditorData.errorMessage="原登录密码长度为6-12位字符":this.PSWEditorData.errorMessage="新登录密码长度必须为6-12位字符"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),s=a(i);t["default"]={register:(0,s["default"])("/api/account/register"),login:(0,s["default"])("/api/account/login"),check:(0,s["default"])("/api/account/check"),logout:(0,s["default"])("/api/account/logout"),update:(0,s["default"])("/api/account/update")}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),s=a(i);t["default"]={codes:(0,s["default"])("/api/account/invitation-codes")}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeNode=t.nodes=void 0;var i=n(31),s=a(i),o=(0,s["default"])("/api/nodes"),u=(0,s["default"])("/api/node/{nodeId}"),r=(0,s["default"])("/api/node/{nodeId}/initialize");t["default"]=u,t.nodes=o,t.initializeNode=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.users=void 0;var i=n(31),s=a(i),o=(0,s["default"])("/api/users");t.users=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=a(i),o=n(5),u=a(o),r=n(21),l=a(r),c=n(22),d=a(c),f={ADMIN:"admin",USER:"user"},p=function(){return s["default"].account&&s["default"].account.id&&!0},v=function(){return s["default"].account&&s["default"].account.role===f.ADMIN};t["default"]={beforeUserRouteEnter:function(e,t,n){return p()?n():void d["default"].get().then(function(e){e&&e.id?n():l["default"].replace("login")})["catch"](function(e){return u["default"].alert(e.message)})},beforeAdminRouteEnter:function(e,t,n){return v()?n():void d["default"].get().then(function(e){return e&&e.id?e.role===f.USER?l["default"].replace("user.profile"):void(e.role===f.ADMIN&&n()):l["default"].replace("login")})["catch"](function(e){return u["default"].alert(e.message)})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),s=a(i);t["default"]={format:function(e,t){return(0,s["default"])(new Date(e),t)}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),s=a(i),o=n(189),u=a(o);s["default"].filter("formatDate",u["default"].format)}]);
//# sourceMappingURL=app.d567b83c147d9f1acb8d.js.map